# <video id="preview"></video>
# <script type="text/javascript">
#   let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
#   scanner.addListener('scan', function (content) {
#     fetch('/qr_codes/scan', {
#       method: 'POST',
#       headers: {
#         'Content-Type': 'application/json',
#         'X-CSRF-Token': document.querySelector('meta[name="csrf-token"]').content
#       },
#       body: JSON.stringify({ code: content })
#     }).then(response => response.json())
#       .then(data => {
#         if (data.success) {
#           alert('Attendance marked successfully!');
#         } else {
#           alert('Error: ' + data.message);
#         }
#       });
#   });
#   Instascan.Camera.getCameras().then(function (cameras) {
#     if (cameras.length > 0) {
#       scanner.start(cameras[0]);
#     } else {
#       console.error('No cameras found.');
#     }
#   }).catch(function (e) {
#     console.error(e);
#   });
# </script>